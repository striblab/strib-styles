{"version":3,"file":"strib-styles.all.js","sources":["../source/js/gallery.js","../source/js/maps.js","../source/js/all.js","../source/js/dropdown.js"],"sourcesContent":["/**\n * Gallery code\n */\n\n// TODO: Don't use jQuery\n/* global jQuery, $ */\n\n\n// Gallery class\nclass Gallery {\n  constructor(el, options = {}) {\n    // Make sure jQuery object\n    if (el && el instanceof jQuery) {\n      this.$gallery = el;\n    }\n    else {\n      this.$gallery = $(el);\n    }\n\n    // Option defaults\n    options.transition = options.transition || 'fade';\n    options.start = options.start = 0;\n    this.options = options;\n\n    // Gather slides\n    this.$slides = this.$gallery.find('figure');\n\n    // Transition type\n    this.$gallery.addClass(options.transition);\n\n    // Show\n    this.index = options.start;\n    this.show();\n\n    // Add events\n    this.$gallery.find('.gallery-next').on('click', () => {\n      this.next();\n    });\n    this.$gallery.find('.gallery-previous').on('click', () => {\n      this.previous();\n    });\n    this.$gallery.find('.gallery-fullscreen').on('click', () => {\n      this.toggleFullscreen();\n    });\n  }\n\n  show() {\n    let top = this.$slides.length - 1;\n\n    this.$slides.each((i, el) => {\n      // Active\n      if (i === this.index) {\n        $(el).addClass('active');\n      }\n      else {\n        $(el).removeClass('active');\n      }\n\n      // Previous\n      if ((this.index === 0 && i === top) || (this.index > 0 && i === this.index - 1)) {\n        $(el).addClass('item-previous');\n      }\n      else {\n        $(el).removeClass('item-previous');\n      }\n\n      // Next\n      if ((this.index === top && i === 0) || (this.index < top && i === this.index + 1)) {\n        $(el).addClass('item-next');\n      }\n      else {\n        $(el).removeClass('item-next');\n      }\n    });\n  }\n\n  toggleFullscreen() {\n    this.$gallery.toggleClass('fullscreen');\n  }\n\n  next() {\n    this.index = this.index === this.$slides.length - 1 ? 0 : this.index + 1;\n    this.show();\n  }\n\n  previous() {\n    this.index = this.index === 0 ? this.$slides.length - 1 : this.index - 1;\n    this.show();\n  }\n}\n\n// Generator function\nlet gallery = (el, options = {}) => {\n  return new Gallery(el, options);\n};\n\n// Export\nexport default gallery;\n","/**\n * Map helper functions.\n */\n\n// Dependencies or globals\n/* global mapboxgl, L */\n\n// Access token.  This is a public key, but this should not be used\n// outside of Star Tribune\nconst mapboxAccessToken =\n  'pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiODRHdjBSWSJ9.lF4ymp-69zdGvZ5X4Tokzg';\n\n// Common map styles\nconst mapboxStyles = {\n  light: 'mapbox://styles/shadowflare/cjfljh7oh6v6k2smuvb3jftac'\n};\n\n// Common places\nconst places = {\n  twinCities: [-93.191872, 44.960911]\n};\n\n// Mapbox attribution\nconst mapboxAttribution = `Some map and design data\n&copy; <a href=\"https://www.mapbox.com/about/maps/\" target=\"_blank\" rel=\"noopener\">Mapbox</a>\n&copy; <a href=\"http://www.openstreetmap.org/about/\" target=\"_blank\" rel=\"noopener\">OpenStreetMap</a>`;\n\n// Generator function\nfunction mapboxGLMap(el, options = {}) {\n  // Check for mapboxGL\n  if (!mapboxgl || !window.mapboxgl) {\n    throw new Error(\n      'Please provide an element to attach the map to, this should be the \"id\" attribute of the element.'\n    );\n  }\n\n  // Check for el\n  if (!el) {\n    throw new Error('Please provide an element to attach the map to.');\n  }\n\n  // Default options\n  let mapOptions = Object.assign(\n    {\n      container: el,\n      style: mapboxStyles.light,\n      center: places.twinCities,\n      zoom: 9,\n      attributionControl: false,\n      navigationControl: true,\n      scrollZoom: false\n    },\n    options\n  );\n\n  // Set access token\n  mapboxgl.accessToken = mapboxAccessToken;\n  let map = new mapboxgl.Map(mapOptions);\n\n  // Add navigation control\n  if (mapOptions.navigationControl) {\n    let nav = new mapboxgl.NavigationControl();\n    map.__nav = nav;\n    map.addControl(nav, 'top-left');\n  }\n\n  return map;\n}\n\n// Make a non-gl mapbox map\nfunction mapboxNoGLMap(el, options = {}) {\n  // Check for L, which is provided by mapbox library\n  if (!L || !window.L || !L.mapbox) {\n    throw new Error(\n      'Could not find \"L\" Leaflet object or the \"L.mapbox\" object, make sure you have loaded the library.  See https://www.mapbox.com/mapbox.js/'\n    );\n  }\n\n  // Check for el\n  if (!el) {\n    throw new Error(\n      'Please provide an element to attach the map to, this should be the \"id\" attribute of the element.'\n    );\n  }\n\n  // Set token\n  L.mapbox.accessToken = mapboxAccessToken;\n\n  // Default options\n  let mapOptions = Object.assign(\n    {\n      style: mapboxStyles.light,\n      center: places.twinCities,\n      zoom: 10,\n      attributionControl: false,\n      navigationControl: true,\n      scrollWheelZoom: false\n    },\n    options\n  );\n\n  // Create map\n  let map = L.mapbox.map(el, undefined, {\n    attributionControl: false\n  });\n\n  // Add style layer\n  if (mapOptions.style) {\n    map.__styleLayer = L.mapbox.styleLayer(mapOptions.style).addTo(map);\n  }\n\n  return map;\n}\n\n// Export\nexport default {\n  mapboxAccessToken,\n  mapboxStyles,\n  mapboxGLMap,\n  mapboxNoGLMap,\n  mapboxAttribution,\n  places\n};\n","/**\n * Collect all JS parts\n */\n\nimport dropdown from './dropdown.js';\nimport gallery from './gallery.js';\nimport maps from './maps.js';\nimport pkg from '../../package.json';\n\nexport default {\n  dropdown,\n  gallery,\n  maps,\n  version: pkg.version\n};\n","/**\n * Dropdown code\n */\n\nlet dropdown = () => {\n  return 'TODO';\n};\n\n// Export\nexport default dropdown;\n"],"names":["Gallery","el","options","jQuery","$gallery","$","transition","start","$slides","this","find","addClass","index","show","on","_this","next","previous","toggleFullscreen","top","length","each","i","_this2","removeClass","toggleClass","mapboxAccessToken","mapboxStyles","light","places","twinCities","dropdown","gallery","maps","mapboxGLMap","mapboxgl","window","Error","mapOptions","Object","assign","container","style","center","zoom","attributionControl","navigationControl","scrollZoom","accessToken","map","Map","nav","NavigationControl","__nav","addControl","mapboxNoGLMap","L","mapbox","scrollWheelZoom","undefined","__styleLayer","styleLayer","addTo","mapboxAttribution","version"],"mappings":"iWASMA,wBACQC,cAAIC,yDAAU,yGAEpBD,GAAMA,aAAcE,YACjBC,SAAWH,OAGXG,SAAWC,EAAEJ,GAIpBC,EAAQI,WAAaJ,EAAQI,YAAc,OAC3CJ,EAAQK,MAAQL,EAAQK,MAAQ,OAC3BL,QAAUA,OAGVM,QAAUC,KAAKL,SAASM,KAAK,eAG7BN,SAASO,SAAST,EAAQI,iBAG1BM,MAAQV,EAAQK,WAChBM,YAGAT,SAASM,KAAK,iBAAiBI,GAAG,QAAS,WAC9CC,EAAKC,cAEFZ,SAASM,KAAK,qBAAqBI,GAAG,QAAS,WAClDC,EAAKE,kBAEFb,SAASM,KAAK,uBAAuBI,GAAG,QAAS,WACpDC,EAAKG,sFAKHC,EAAMV,KAAKD,QAAQY,OAAS,OAE3BZ,QAAQa,KAAK,SAACC,EAAGrB,GAEhBqB,IAAMC,EAAKX,MACbP,EAAEJ,GAAIU,SAAS,UAGfN,EAAEJ,GAAIuB,YAAY,UAIA,IAAfD,EAAKX,OAAeU,IAAMH,GAAsB,EAAbI,EAAKX,OAAaU,IAAMC,EAAKX,MAAQ,EAC3EP,EAAEJ,GAAIU,SAAS,iBAGfN,EAAEJ,GAAIuB,YAAY,iBAIfD,EAAKX,QAAUO,GAAa,IAANG,GAAaC,EAAKX,MAAQO,GAAOG,IAAMC,EAAKX,MAAQ,EAC7EP,EAAEJ,GAAIU,SAAS,aAGfN,EAAEJ,GAAIuB,YAAY,+DAMjBpB,SAASqB,YAAY,kDAIrBb,MAAQH,KAAKG,QAAUH,KAAKD,QAAQY,OAAS,EAAI,EAAIX,KAAKG,MAAQ,OAClEC,+CAIAD,MAAuB,IAAfH,KAAKG,MAAcH,KAAKD,QAAQY,OAAS,EAAIX,KAAKG,MAAQ,OAClEC,4CC9EHa,EACJ,yEAGIC,EAAe,CACnBC,MAAO,yDAIHC,EAAS,CACbC,WAAY,EAAE,UAAW,kBCVZ,CACbC,SCNa,iBACN,QDMPC,QFiFY,SAAC/B,OAAIC,yDAAU,UACpB,IAAIF,EAAQC,EAAIC,IEjFvB+B,KDuGa,CACbP,kBAAAA,EACAC,aAAAA,EACAO,YA1FF,SAAqBjC,OAAIC,yDAAU,OAE5BiC,WAAaC,OAAOD,eACjB,IAAIE,MACR,yGAKCpC,QACG,IAAIoC,MAAM,uDAIdC,EAAaC,OAAOC,OACtB,CACEC,UAAWxC,EACXyC,MAAOf,EAAaC,MACpBe,OAAQd,EAAOC,WACfc,KAAM,EACNC,oBAAoB,EACpBC,mBAAmB,EACnBC,YAAY,GAEd7C,GAIFiC,SAASa,YAActB,MACnBuB,EAAM,IAAId,SAASe,IAAIZ,MAGvBA,EAAWQ,kBAAmB,KAC5BK,EAAM,IAAIhB,SAASiB,kBACvBH,EAAII,MAAQF,EACZF,EAAIK,WAAWH,EAAK,mBAGfF,GAqDPM,cAjDF,SAAuBtD,OAAIC,yDAAU,OAE9BsD,IAAMpB,OAAOoB,IAAMA,EAAEC,aAClB,IAAIpB,MACR,iJAKCpC,QACG,IAAIoC,MACR,qGAKJmB,EAAEC,OAAOT,YAActB,MAGnBY,EAAaC,OAAOC,OACtB,CACEE,MAAOf,EAAaC,MACpBe,OAAQd,EAAOC,WACfc,KAAM,GACNC,oBAAoB,EACpBC,mBAAmB,EACnBY,iBAAiB,GAEnBxD,GAIE+C,EAAMO,EAAEC,OAAOR,IAAIhD,OAAI0D,EAAW,CACpCd,oBAAoB,WAIlBP,EAAWI,QACbO,EAAIW,aAAeJ,EAAEC,OAAOI,WAAWvB,EAAWI,OAAOoB,MAAMb,IAG1DA,GASPc,mPACAlC,OAAAA,GC5GAmC"}