{"version":3,"file":"strib-styles.maps.js","sources":["../source/js/maps.js"],"sourcesContent":["/**\n * Map helper functions.\n */\n\n// Dependencies or globals\n/* global mapboxgl, L */\n\n// Access token.  This is a public key, but this should not be used\n// outside of Star Tribune\nconst mapboxAccessToken =\n  'pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiODRHdjBSWSJ9.lF4ymp-69zdGvZ5X4Tokzg';\n\n// Common map styles\nconst mapboxStyles = {\n  light: 'mapbox://styles/shadowflare/cjfljh7oh6v6k2smuvb3jftac'\n};\n\n// Common places\nconst places = {\n  twinCities: [-93.191872, 44.960911]\n};\n\n// Mapbox attribution\nconst mapboxAttribution = `Some map and design data\n&copy; <a href=\"https://www.mapbox.com/about/maps/\" target=\"_blank\" rel=\"noopener\">Mapbox</a>\n&copy; <a href=\"http://www.openstreetmap.org/about/\" target=\"_blank\" rel=\"noopener\">OpenStreetMap</a>`;\n\n// Generator function\nfunction mapboxGLMap(el, options = {}) {\n  // Check for mapboxGL\n  if (!mapboxgl || !window.mapboxgl) {\n    throw new Error(\n      'Please provide an element to attach the map to, this should be the \"id\" attribute of the element.'\n    );\n  }\n\n  // Check for el\n  if (!el) {\n    throw new Error('Please provide an element to attach the map to.');\n  }\n\n  // Default options\n  let mapOptions = Object.assign(\n    {\n      container: el,\n      style: mapboxStyles.light,\n      center: places.twinCities,\n      zoom: 9,\n      attributionControl: false,\n      navigationControl: true,\n      scrollZoom: false\n    },\n    options\n  );\n\n  // Set access token\n  mapboxgl.accessToken = mapboxAccessToken;\n  let map = new mapboxgl.Map(mapOptions);\n\n  // Add navigation control\n  if (mapOptions.navigationControl) {\n    let nav = new mapboxgl.NavigationControl();\n    map.__nav = nav;\n    map.addControl(nav, 'top-left');\n  }\n\n  return map;\n}\n\n// Make a non-gl mapbox map\nfunction mapboxNoGLMap(el, options = {}) {\n  // Check for L, which is provided by mapbox library\n  if (!L || !window.L || !L.mapbox) {\n    throw new Error(\n      'Could not find \"L\" Leaflet object or the \"L.mapbox\" object, make sure you have loaded the library.  See https://www.mapbox.com/mapbox.js/'\n    );\n  }\n\n  // Check for el\n  if (!el) {\n    throw new Error(\n      'Please provide an element to attach the map to, this should be the \"id\" attribute of the element.'\n    );\n  }\n\n  // Set token\n  L.mapbox.accessToken = mapboxAccessToken;\n\n  // Default options\n  let mapOptions = Object.assign(\n    {\n      style: mapboxStyles.light,\n      center: places.twinCities,\n      zoom: 10,\n      attributionControl: false,\n      navigationControl: true,\n      scrollWheelZoom: false\n    },\n    options\n  );\n\n  // Create map\n  let map = L.mapbox.map(el, undefined, {\n    attributionControl: false\n  });\n\n  // Add style layer\n  if (mapOptions.style) {\n    map.__styleLayer = L.mapbox.styleLayer(mapOptions.style).addTo(map);\n  }\n\n  return map;\n}\n\n// Export\nexport default {\n  mapboxAccessToken,\n  mapboxStyles,\n  mapboxGLMap,\n  mapboxNoGLMap,\n  mapboxAttribution,\n  places\n};\n"],"names":["mapboxAccessToken","mapboxStyles","light","places","twinCities","mapboxGLMap","el","options","mapboxgl","window","Error","mapOptions","Object","assign","container","style","center","zoom","attributionControl","navigationControl","scrollZoom","accessToken","map","Map","nav","NavigationControl","__nav","addControl","mapboxNoGLMap","L","mapbox","scrollWheelZoom","undefined","__styleLayer","styleLayer","addTo","mapboxAttribution"],"mappings":"2LASA,IAAMA,EACJ,yEAGIC,EAAe,CACnBC,MAAO,yDAIHC,EAAS,CACbC,WAAY,EAAE,UAAW,kBAgGZ,CACbJ,kBAAAA,EACAC,aAAAA,EACAI,YA1FF,SAAqBC,OAAIC,yDAAU,OAE5BC,WAAaC,OAAOD,eACjB,IAAIE,MACR,yGAKCJ,QACG,IAAII,MAAM,uDAIdC,EAAaC,OAAOC,OACtB,CACEC,UAAWR,EACXS,MAAOd,EAAaC,MACpBc,OAAQb,EAAOC,WACfa,KAAM,EACNC,oBAAoB,EACpBC,mBAAmB,EACnBC,YAAY,GAEdb,GAIFC,SAASa,YAAcrB,MACnBsB,EAAM,IAAId,SAASe,IAAIZ,MAGvBA,EAAWQ,kBAAmB,KAC5BK,EAAM,IAAIhB,SAASiB,kBACvBH,EAAII,MAAQF,EACZF,EAAIK,WAAWH,EAAK,mBAGfF,GAqDPM,cAjDF,SAAuBtB,OAAIC,yDAAU,OAE9BsB,IAAMpB,OAAOoB,IAAMA,EAAEC,aAClB,IAAIpB,MACR,iJAKCJ,QACG,IAAII,MACR,qGAKJmB,EAAEC,OAAOT,YAAcrB,MAGnBW,EAAaC,OAAOC,OACtB,CACEE,MAAOd,EAAaC,MACpBc,OAAQb,EAAOC,WACfa,KAAM,GACNC,oBAAoB,EACpBC,mBAAmB,EACnBY,iBAAiB,GAEnBxB,GAIEe,EAAMO,EAAEC,OAAOR,IAAIhB,OAAI0B,EAAW,CACpCd,oBAAoB,WAIlBP,EAAWI,QACbO,EAAIW,aAAeJ,EAAEC,OAAOI,WAAWvB,EAAWI,OAAOoB,MAAMb,IAG1DA,GASPc,mPACAjC,OAAAA"}